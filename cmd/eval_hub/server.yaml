service:
  port: 8080
  # These wull be elsewhere on a cluster and coherent with the pod spec
  ready_file: "/tmp/repo-ready"
  termination_file: "/tmp/termination-log"
# These are here so that the config can be loaded from the secrets directory when needed
secrets:
  dir: /tmp
  mappings:
    db_password: database.password
# These are here so that the config can be loaded from the environment variables when needed
env_mappings:
  PORT: service.port
  POSTGRES_URL: database.sql.postgres.url
  SQLITE_URL: database.sql.sqlite.url
# Database configuration
database:
  sql:
    postgres:
      enabled: false
      driver: pgx
      url: postgres://postgres:postgres@localhost:5432/eval_hub
      conn_max_lifetime: 0
      max_idle_conns: 2
      max_open_conns: 0
      database_name: eval_hub
      evaluations:
        table_name: evaluations
      collections:
        table_name: collections
    sqlite:
      fallback: true # if no other database configuration is enabled, use this one
      enabled: false
      driver: sqlite
      url: file::memory:?mode=memory&cache=shared
      database_name: eval_hub
      evaluations:
        table_name: evaluations
      collections:
        table_name: collections
  json:
    mongodb:
      enabled: false
      driver: mongodb
      url: mongodb://localhost:27017
  other:
    redis:
      enabled: false
      driver: redis
      url: redis://localhost:6379
